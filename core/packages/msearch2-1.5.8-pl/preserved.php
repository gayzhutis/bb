<?php return array (
  'e58dad585dc213f98e2afe895382f36d' => 
  array (
    'criteria' => 
    array (
      'name' => 'msearch2',
    ),
    'object' => 
    array (
      'name' => 'msearch2',
      'path' => '{core_path}components/msearch2/',
      'assets_path' => '',
    ),
  ),
  '2b37f0c6bb428f2079b13a1ffcd01ad3' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_frontend_css',
    ),
    'object' => 
    array (
      'key' => 'mse2_frontend_css',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_main',
      'editedon' => '2015-03-03 03:38:43',
    ),
  ),
  'd3907486bb6c37b179d157a08eee8547' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_frontend_js',
    ),
    'object' => 
    array (
      'key' => 'mse2_frontend_js',
      'value' => '[[+jsUrl]]web/default.js',
      'xtype' => 'textfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_main',
      'editedon' => '2016-02-23 22:36:41',
    ),
  ),
  'e274b097617bc1ca100f127ec4ff7f24' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_index_fields',
    ),
    'object' => 
    array (
      'key' => 'mse2_index_fields',
      'value' => 'pagetitle:3,taste:3,manufacturer:4,ingredients:1,goal:2,barcode:1,article:5,category:3,subcategs:2,tv_meta_name:4,tv_meta_h1:3',
      'xtype' => 'textarea',
      'namespace' => 'msearch2',
      'area' => 'mse2_index',
      'editedon' => '2016-02-21 00:01:35',
    ),
  ),
  'cab928a56053332c043862d96d929bd1' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_index_comments',
    ),
    'object' => 
    array (
      'key' => 'mse2_index_comments',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'msearch2',
      'area' => 'mse2_index',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '4dac0185ccd5ea71d869c84a1ba53977' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_index_comments_weight',
    ),
    'object' => 
    array (
      'key' => 'mse2_index_comments_weight',
      'value' => '1',
      'xtype' => 'numberfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_index',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '04d9452850e3d24eceeb440c80dc62aa' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_index_min_words_length',
    ),
    'object' => 
    array (
      'key' => 'mse2_index_min_words_length',
      'value' => '4',
      'xtype' => 'numberfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_index',
      'editedon' => '2015-04-09 23:53:16',
    ),
  ),
  'f74392cadc50d362e53a5cb71d2f4a07' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_index_all',
    ),
    'object' => 
    array (
      'key' => 'mse2_index_all',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msearch2',
      'area' => 'mse2_index',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '4afb806f76a2d2ef2a3dc02c8bf1bb02' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_index_split_words',
    ),
    'object' => 
    array (
      'key' => 'mse2_index_split_words',
      'value' => '#\\s|[,.:;!?"\'(){}\\/\\#]#',
      'xtype' => 'textfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_index',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '1c30a3b4b6dbafed73fb305b2ae38c6e' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_search_exact_match_bonus',
    ),
    'object' => 
    array (
      'key' => 'mse2_search_exact_match_bonus',
      'value' => '10',
      'xtype' => 'numberfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_search',
      'editedon' => '2015-04-10 00:06:34',
    ),
  ),
  '1c7a7e8539fad00ea5e3e8c1368792bb' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_search_all_words_bonus',
    ),
    'object' => 
    array (
      'key' => 'mse2_search_all_words_bonus',
      'value' => '5',
      'xtype' => 'numberfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_search',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '81eabc3251b4894b47b161742d8c1976' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_search_like_match_bonus',
    ),
    'object' => 
    array (
      'key' => 'mse2_search_like_match_bonus',
      'value' => '3',
      'xtype' => 'numberfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_search',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '6c7625104838248640606176e0e826b4' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_search_split_words',
    ),
    'object' => 
    array (
      'key' => 'mse2_search_split_words',
      'value' => '#\\s#',
      'xtype' => 'textfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_search',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '8565d7cad30ac8a3e8e22d8d6daa4803' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_old_search_algorithm',
    ),
    'object' => 
    array (
      'key' => 'mse2_old_search_algorithm',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'msearch2',
      'area' => 'mse2_search',
      'editedon' => '0000-00-00 00:00:00',
    ),
  ),
  '7e7586fad40823a57a690596c7fc6e1f' => 
  array (
    'criteria' => 
    array (
      'key' => 'mse2_filters_handler_class',
    ),
    'object' => 
    array (
      'key' => 'mse2_filters_handler_class',
      'value' => 'customFilter',
      'xtype' => 'textfield',
      'namespace' => 'msearch2',
      'area' => 'mse2_main',
      'editedon' => '2016-02-24 00:16:08',
    ),
  ),
  'e3496d6809db736deaab48a1150bfc04' => 
  array (
    'criteria' => 
    array (
      'name' => 'mse2OnBeforeSearchIndex',
    ),
    'object' => 
    array (
      'name' => 'mse2OnBeforeSearchIndex',
      'service' => 6,
      'groupname' => 'mSearch2',
    ),
  ),
  '8199e238be4d69e0b99bbc41e35762a8' => 
  array (
    'criteria' => 
    array (
      'name' => 'mse2OnSearchIndex',
    ),
    'object' => 
    array (
      'name' => 'mse2OnSearchIndex',
      'service' => 6,
      'groupname' => 'mSearch2',
    ),
  ),
  'e9f24a7798ebb34e6ac68669fe6a1624' => 
  array (
    'criteria' => 
    array (
      'namespace' => 'msearch2',
      'controller' => 'index',
    ),
    'object' => 
    array (
      'id' => 7,
      'namespace' => 'msearch2',
      'controller' => 'index',
      'haslayout' => 1,
      'lang_topics' => 'msearch2:default',
      'assets' => '',
      'help_url' => '',
    ),
  ),
  '0b37b23358ec460a98dcc3fe724574dd' => 
  array (
    'criteria' => 
    array (
      'text' => 'msearch2',
    ),
    'object' => 
    array (
      'text' => 'msearch2',
      'parent' => 'components',
      'action' => '7',
      'description' => 'mse2_menu_desc',
      'icon' => 'images/icons/plugin.gif',
      'menuindex' => 0,
      'params' => '',
      'handler' => '',
      'permissions' => '',
      'namespace' => 'core',
    ),
  ),
  '6d9e7eaa3d9a132a8f12fbedfc4e967b' => 
  array (
    'criteria' => 
    array (
      'category' => 'mSearch2',
    ),
    'object' => 
    array (
      'id' => 13,
      'parent' => 0,
      'category' => 'mSearch2',
    ),
  ),
  '6421352ed85a3496df3318093827fe27' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mSearch2.row',
    ),
    'object' => 
    array (
      'id' => 35,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mSearch2.row',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<div class="mse2-row">
	[[+idx]]. <a href="[[+uri]]" class="search-link">[[+pagetitle]]</a>[[+weight]]
	[[+intro]]
</div>
<!--msearch2_weight  ([[%mse2_weight]]: [[+weight]])-->
<!--msearch2_intro <p>[[+intro]]</p>-->',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.msearch2.row.tpl',
      'content' => '<div class="mse2-row">
	[[+idx]]. <a href="[[+uri]]" class="search-link">[[+pagetitle]]</a>[[+weight]]
	[[+intro]]
</div>
<!--msearch2_weight  ([[%mse2_weight]]: [[+weight]])-->
<!--msearch2_intro <p>[[+intro]]</p>-->',
    ),
  ),
  '4d22367993cc3c355bda0724109dc18e' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mSearch2.form',
    ),
    'object' => 
    array (
      'id' => 36,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mSearch2.form',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<form action="[[~[[+pageId]]]]" method="get" class="well msearch2" id="mse2_form">
	<div class="row">
		<div class="form-group col-md-10">
			<input type="text" class="form-control" name="[[+queryVar]]" placeholder="[[%mse2_search]]" value="[[+mse2_query]]" />
		</div>
		<button type="submit" class="btn btn-default">
			<i class="glyphicon glyphicon-search"></i> [[%search]]
		</button>
	</div>
</form>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.msearch2.form.tpl',
      'content' => '<form action="[[~[[+pageId]]]]" method="get" class="well msearch2" id="mse2_form">
	<div class="row">
		<div class="form-group col-md-10">
			<input type="text" class="form-control" name="[[+queryVar]]" placeholder="[[%mse2_search]]" value="[[+mse2_query]]" />
		</div>
		<button type="submit" class="btn btn-default">
			<i class="glyphicon glyphicon-search"></i> [[%search]]
		</button>
	</div>
</form>',
    ),
  ),
  'c9dc35303c76d82e310b50fae801c001' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mSearch2.ac',
    ),
    'object' => 
    array (
      'id' => 37,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mSearch2.ac',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<div class="mse2-ac-item">
	[[+idx]]. [[+pagetitle]] [[+weight]]
	[[+intro]]
</div>
<!--msearch2_weight <span class="mse2-ac-weight"><small>[[%mse2_weight]]: [[+weight]]</small></span>-->
<!--msearch2_intro <br/><small>[[+intro]]</small>-->',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.msearch2.ac.tpl',
      'content' => '<div class="mse2-ac-item">
	[[+idx]]. [[+pagetitle]] [[+weight]]
	[[+intro]]
</div>
<!--msearch2_weight <span class="mse2-ac-weight"><small>[[%mse2_weight]]: [[+weight]]</small></span>-->
<!--msearch2_intro <br/><small>[[+intro]]</small>-->',
    ),
  ),
  '323acf7b8ab30b2e76a50f83a3f80608' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.outer',
    ),
    'object' => 
    array (
      'id' => 38,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.outer',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<div class="row msearch2" id="mse2_mfilter">
	<div class="span3 col-md-3">
		<form action="" method="post" id="mse2_filters">
			[[+filters]]
		</form>

		<br/>
		<div>[[%mse2_limit]]
			<select name="mse_limit" id="mse2_limit">
				<option value="10" [[+limit:is=`10`:then=`selected`]]>10</option>
				<option value="25" [[+limit:is=`25`:then=`selected`]]>25</option>
				<option value="50" [[+limit:is=`50`:then=`selected`]]>50</option>
				<option value="100" [[+limit:is=`100`:then=`selected`]]>100</option>
			</select>
		</div>
	</div>

	<div class="span9 col-md-9">
		<h3>[[%mse2_filter_total]] <span id="mse2_total">[[+total:default=`0`]]</span></h3>

		<div class="row">
			<div id="mse2_sort" class="span5 col-md-5">
				[[%mse2_sort]]
				<a href="#" data-sort="resource|publishedon" data-dir="[[+mse2_sort:is=`resource|publishedon:desc`:then=`desc`]]" data-default="desc" class="sort">[[%mse2_sort_publishedon]] <span></span></a>
			</div>

			[[+tpls:notempty=`
			<div id="mse2_tpl" class="span4 col-md-4">
				<a href="#" data-tpl="0" class="[[+tpl0]]">[[%mse2_chunk_default]]</a> /
				<a href="#" data-tpl="1" class="[[+tpl1]]">[[%mse2_chunk_alternate]]</a>
			</div>
			`]]
		</div>

		<div id="mse2_selected_wrapper">
			<div id="mse2_selected">[[%mse2_selected]]:
				<span></span>
			</div>
		</div>

		<div id="mse2_results">
			[[+results]]
		</div>

		<div class="pagination">
			<ul id="mse2_pagination">
				[[!+page.nav]]
			</ul>
		</div>

	</div>
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.outer.tpl',
      'content' => '<div class="row msearch2" id="mse2_mfilter">
	<div class="span3 col-md-3">
		<form action="" method="post" id="mse2_filters">
			[[+filters]]
		</form>

		<br/>
		<div>[[%mse2_limit]]
			<select name="mse_limit" id="mse2_limit">
				<option value="10" [[+limit:is=`10`:then=`selected`]]>10</option>
				<option value="25" [[+limit:is=`25`:then=`selected`]]>25</option>
				<option value="50" [[+limit:is=`50`:then=`selected`]]>50</option>
				<option value="100" [[+limit:is=`100`:then=`selected`]]>100</option>
			</select>
		</div>
	</div>

	<div class="span9 col-md-9">
		<h3>[[%mse2_filter_total]] <span id="mse2_total">[[+total:default=`0`]]</span></h3>

		<div class="row">
			<div id="mse2_sort" class="span5 col-md-5">
				[[%mse2_sort]]
				<a href="#" data-sort="resource|publishedon" data-dir="[[+mse2_sort:is=`resource|publishedon:desc`:then=`desc`]]" data-default="desc" class="sort">[[%mse2_sort_publishedon]] <span></span></a>
			</div>

			[[+tpls:notempty=`
			<div id="mse2_tpl" class="span4 col-md-4">
				<a href="#" data-tpl="0" class="[[+tpl0]]">[[%mse2_chunk_default]]</a> /
				<a href="#" data-tpl="1" class="[[+tpl1]]">[[%mse2_chunk_alternate]]</a>
			</div>
			`]]
		</div>

		<div id="mse2_selected_wrapper">
			<div id="mse2_selected">[[%mse2_selected]]:
				<span></span>
			</div>
		</div>

		<div id="mse2_results">
			[[+results]]
		</div>

		<div class="pagination">
			<ul id="mse2_pagination">
				[[!+page.nav]]
			</ul>
		</div>

	</div>
</div>',
    ),
  ),
  '5f806a2408c4cf8ea5a061a3fa36543d' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.outer',
    ),
    'object' => 
    array (
      'id' => 39,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.outer',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<fieldset id="mse2_[[+table]][[+delimeter]][[+filter]]">
	<h4>[[%mse2_filter_[[+table]]_[[+filter]]]]</h4>
	[[+rows]]
</fieldset>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.outer.tpl',
      'content' => '<fieldset id="mse2_[[+table]][[+delimeter]][[+filter]]">
	<h4>[[%mse2_filter_[[+table]]_[[+filter]]]]</h4>
	[[+rows]]
</fieldset>',
    ),
  ),
  'd763123acd2bc4bb70869e67252e4401' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.slider',
    ),
    'object' => 
    array (
      'id' => 40,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.slider',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<fieldset id="mse2_[[+table]][[+delimeter]][[+filter]]">
	<h4>[[%mse2_filter_[[+table]]_[[+filter]]]]</h4>
	<div class="mse2_number_slider"></div>
	<div class="mse2_number_inputs">
		[[+rows]]
	</div>
</fieldset>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.slider.tpl',
      'content' => '<fieldset id="mse2_[[+table]][[+delimeter]][[+filter]]">
	<h4>[[%mse2_filter_[[+table]]_[[+filter]]]]</h4>
	<div class="mse2_number_slider"></div>
	<div class="mse2_number_inputs">
		[[+rows]]
	</div>
</fieldset>',
    ),
  ),
  'b590b03509eacd7430d6ce93b8706b8e' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.select',
    ),
    'object' => 
    array (
      'id' => 41,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.select',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<fieldset id="mse2_[[+table]][[+delimeter]][[+filter]]">
	<h4>[[%mse2_filter_[[+table]]_[[+filter]]]]</h4>
	<select name="[[+table]][[+delimeter]][[+filter]]" id="[[+table]][[+delimeter]][[+filter]]_0">
		<option value="" selected>[[%mse2_select]]</option>
		[[+rows]]
	</select>
</fieldset>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.select.tpl',
      'content' => '<fieldset id="mse2_[[+table]][[+delimeter]][[+filter]]">
	<h4>[[%mse2_filter_[[+table]]_[[+filter]]]]</h4>
	<select name="[[+table]][[+delimeter]][[+filter]]" id="[[+table]][[+delimeter]][[+filter]]_0">
		<option value="" selected>[[%mse2_select]]</option>
		[[+rows]]
	</select>
</fieldset>',
    ),
  ),
  'a869138b2785899444020474e6bb7daa' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.checkbox',
    ),
    'object' => 
    array (
      'id' => 42,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.checkbox',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<label for="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" class="[[+disabled]]">
	<input type="checkbox" name="[[+table]][[+delimeter]][[+filter]]" id="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" value="[[+value]]" [[+checked]] [[+disabled]]/> [[+title]] <sup>[[+num]]</sup>
</label><br/>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.checkbox.tpl',
      'content' => '<label for="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" class="[[+disabled]]">
	<input type="checkbox" name="[[+table]][[+delimeter]][[+filter]]" id="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" value="[[+value]]" [[+checked]] [[+disabled]]/> [[+title]] <sup>[[+num]]</sup>
</label><br/>',
    ),
  ),
  '5d13b35c0ad1b158c3cdd3bddacd2e3f' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.number',
    ),
    'object' => 
    array (
      'id' => 43,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.number',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<div class="form-group col-md-6">
	<label for="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]">[[+title]]
		<input type="input" name="[[+table]][[+delimeter]][[+filter]]" id="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" value="[[+value]]" class="form-control input-sm" />
	</label>
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.number.tpl',
      'content' => '<div class="form-group col-md-6">
	<label for="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]">[[+title]]
		<input type="input" name="[[+table]][[+delimeter]][[+filter]]" id="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" value="[[+value]]" class="form-control input-sm" />
	</label>
</div>',
    ),
  ),
  'ace85c0810fae2314af0fd8dc726ee73' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.radio',
    ),
    'object' => 
    array (
      'id' => 44,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.radio',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<label for="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" class="[[+disabled]]">
	<input type="radio" name="[[+table]][[+delimeter]][[+filter]]" id="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" value="[[+value]]" [[+checked]] [[+disabled]]/> [[+title]] <sup>[[+num]]</sup>
</label><br/>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.radio.tpl',
      'content' => '<label for="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" class="[[+disabled]]">
	<input type="radio" name="[[+table]][[+delimeter]][[+filter]]" id="mse2_[[+table]][[+delimeter]][[+filter]]_[[+idx]]" value="[[+value]]" [[+checked]] [[+disabled]]/> [[+title]] <sup>[[+num]]</sup>
</label><br/>',
    ),
  ),
  '662d013a8340f26b7550c6c9f0673635' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.mFilter2.filter.option',
    ),
    'object' => 
    array (
      'id' => 45,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.mFilter2.filter.option',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '<option value="[[+value]]" [[+selected]] [[+disabled]] class="[[+disabled]]">[[+title]]&nbsp;[[+num]]</option>

<!--pdotools_num ([[+num]])-->',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/chunks/chunk.mfilter2.filter.option.tpl',
      'content' => '<option value="[[+value]]" [[+selected]] [[+disabled]] class="[[+disabled]]">[[+title]]&nbsp;[[+num]]</option>

<!--pdotools_num ([[+num]])-->',
    ),
  ),
  'e14d50fcb8ea155a5d3f6cd461754597' => 
  array (
    'criteria' => 
    array (
      'name' => 'mSearch2',
    ),
    'object' => 
    array (
      'id' => 23,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'mSearch2',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '/** @var array $scriptProperties */
/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
if (!$pdoClass = $modx->loadClass($fqn, \'\', false, true)) {return false;}
$pdoFetch = new $pdoClass($modx, $scriptProperties);
$pdoFetch->addTime(\'pdoTools loaded.\');
/** @var mSearch2 $mSearch2 */
if (!$modx->loadClass(\'msearch2\', MODX_CORE_PATH . \'components/msearch2/model/msearch2/\', false, true)) {return false;}
$mSearch2 = new mSearch2($modx, $scriptProperties, $pdoFetch);

if (empty($queryVar)) {$queryVar = \'query\';}
if (empty($parentsVar)) {$parentsVar = \'parents\';}
if (empty($minQuery)) {$minQuery = $modx->getOption(\'index_min_words_length\', null, 3, true);}
if (empty($htagOpen)) {$htagOpen = \'<b>\';}
if (empty($htagClose)) {$htagClose = \'</b>\';}
if (empty($outputSeparator)) {$outputSeparator = "\\n";}
if (empty($plPrefix)) {$plPrefix = \'mse2_\';}
$returnIds = !empty($returnIds);
$fastMode = !empty($fastMode);

$class = \'modResource\';
$found = array();
$output = null;
$query = !empty($_REQUEST[$queryVar])
	? htmlspecialchars(strip_tags(trim($_REQUEST[$queryVar])))
	: \'\';

if (empty($resources)) {
	if (empty($query) && isset($_REQUEST[$queryVar])) {
		$output = $modx->lexicon(\'mse2_err_no_query\');
	}
	elseif (empty($query) && !empty($forceSearch)) {
		$output = $modx->lexicon(\'mse2_err_no_query_var\');
	}
	elseif (!empty($query) && !preg_match(\'/^[0-9]{2,}$/\', $query) && mb_strlen($query,\'UTF-8\') < $minQuery) {
		$output = $modx->lexicon(\'mse2_err_min_query\');
	}

	$modx->setPlaceholder($plPrefix.$queryVar, $query);

	if (!empty($output)) {
		return !$returnIds
			? $output
			: \'\';
	}
	elseif (!empty($query)) {
		$found = $mSearch2->Search($query);
		$ids = array_keys($found);
		$resources = implode(\',\', $ids);
		if (empty($found)) {
			if ($returnIds) {
				return \'\';
			}
			elseif (!empty($query)) {
				$output = $modx->lexicon(\'mse2_err_no_results\');
			}
			if (!empty($tplWrapper) && !empty($wrapIfEmpty)) {
				$output = $pdoFetch->getChunk(
					$tplWrapper,
					array(
						\'output\' => $output,
						\'total\' => 0,
						\'query\' => $query,
						\'parents\' => $modx->getPlaceholder($plPrefix.$parentsVar),
					),
					$fastMode
				);
			}
			if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
				$output .= \'<pre class="mSearchLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
			}
			if (!empty($toPlaceholder)) {
				$modx->setPlaceholder($toPlaceholder, $output);
				return;
			}
			else {
				return $output;
			}
		}
	}
}
elseif (strpos($resources, \'{\') === 0) {
	$found = $modx->fromJSON($resources);
	$resources = implode(\',\', array_keys($found));
	unset($scriptProperties[\'resources\']);
}
/*----------------------------------------------------------------------------------*/
// Joining tables
$leftJoin = array(
	\'mseIntro\' => array(
		\'class\' => \'mseIntro\',
		\'alias\' => \'Intro\',
		\'on\' => \'`modResource`.`id`=`Intro`.`resource`\'
	)
);
// Fields to select
$resourceColumns = !empty($includeContent)
	? $modx->getSelectColumns($class, $class)
	: $modx->getSelectColumns($class, $class, \'\', array(\'content\'), true);
$select = array(
	$class => $resourceColumns,
	\'Intro\' => \'intro\'
);

// Add custom parameters
foreach (array(\'leftJoin\',\'select\') as $v) {
	if (!empty($scriptProperties[$v])) {
		$tmp = $modx->fromJSON($scriptProperties[$v]);
		if (is_array($tmp)) {
			$$v = array_merge($$v, $tmp);
		}
	}
	unset($scriptProperties[$v]);
}

// Default parameters
$default = array(
	\'class\' => $class,
	//,\'where\' => $modx->toJSON($where),
	\'leftJoin\' => $modx->toJSON($leftJoin),
	\'select\' => $modx->toJSON($select),
	\'groupby\' => $class.\'.id\',
	\'fastMode\' => $fastMode,
	\'return\' => !empty($returnIds)
			? \'ids\'
			: \'data\',
	\'nestedChunkPrefix\' => \'msearch2_\',
);
if (!empty($resources)) {
	$default[\'resources\'] = is_array($resources)
		? implode(\',\', $resources)
		: $resources;
}

// Merge all properties and run!
$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);
$pdoFetch->addTime(\'Query parameters are prepared.\');
$rows = $pdoFetch->run();

// Processing results
if ($returnIds) {
	if (!empty($toPlaceholder)) {
		$modx->setPlaceholder($toPlaceholder, $rows);
		return \'\';
	}
	else {
		return $rows;
	}
}
elseif (!empty($rows) && is_array($rows)) {
	$output = array();
	foreach ($rows as $k => $row) {
		// Processing main fields
		$row[\'weight\'] = isset($found[$row[\'id\']]) ? $found[$row[\'id\']] : \'\';
		$row[\'intro\'] = $mSearch2->Highlight($row[\'intro\'], $query, $htagOpen, $htagClose);

		$row[\'idx\'] = $pdoFetch->idx++;
		$tplRow = $pdoFetch->defineChunk($row);
		$output[] .= empty($tplRow)
			? $pdoFetch->getChunk(\'\', $row)
			: $pdoFetch->getChunk($tplRow, $row, $fastMode);
	}
	$pdoFetch->addTime(\'Returning processed chunks\');
	if (!empty($output)) {
		$output = implode($outputSeparator, $output);
	}
}
else {
	$output = $modx->lexicon(\'mse2_err_no_results\');
}

if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
	$output .= \'<pre class="mSearchLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

// Return output
if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {
	$output = $pdoFetch->getChunk(
		$tplWrapper,
		array(
			\'output\' => $output,
			\'total\' => $modx->getPlaceholder($pdoFetch->config[\'totalVar\']),
			\'query\' => $modx->getPlaceholder($plPrefix.$queryVar),
			\'parents\' => $modx->getPlaceholder($plPrefix.$parentsVar),
		),
		$fastMode
	);
}

if (!empty($toPlaceholder)) {
	$modx->setPlaceholder($toPlaceholder, $output);
}
else {
	return $output;
}',
      'locked' => 0,
      'properties' => 'a:31:{s:3:"tpl";a:7:{s:4:"name";s:3:"tpl";s:4:"desc";s:13:"mse2_prop_tpl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:16:"tpl.mSearch2.row";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:9:"returnIds";a:7:{s:4:"name";s:9:"returnIds";s:4:"desc";s:19:"mse2_prop_returnIds";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"showLog";a:7:{s:4:"name";s:7:"showLog";s:4:"desc";s:17:"mse2_prop_showLog";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"fastMode";a:7:{s:4:"name";s:8:"fastMode";s:4:"desc";s:18:"mse2_prop_fastMode";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:5:"limit";a:7:{s:4:"name";s:5:"limit";s:4:"desc";s:15:"mse2_prop_limit";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:10;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:6:"offset";a:7:{s:4:"name";s:6:"offset";s:4:"desc";s:16:"mse2_prop_offset";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:5:"depth";a:7:{s:4:"name";s:5:"depth";s:4:"desc";s:15:"mse2_prop_depth";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:10;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:15:"outputSeparator";a:7:{s:4:"name";s:15:"outputSeparator";s:4:"desc";s:25:"mse2_prop_outputSeparator";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:1:"
";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:13:"toPlaceholder";a:7:{s:4:"name";s:13:"toPlaceholder";s:4:"desc";s:23:"mse2_prop_toPlaceholder";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"parents";a:7:{s:4:"name";s:7:"parents";s:4:"desc";s:17:"mse2_prop_parents";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:10:"includeTVs";a:7:{s:4:"name";s:10:"includeTVs";s:4:"desc";s:20:"mse2_prop_includeTVs";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"tvPrefix";a:7:{s:4:"name";s:8:"tvPrefix";s:4:"desc";s:18:"mse2_prop_tvPrefix";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:5:"where";a:7:{s:4:"name";s:5:"where";s:4:"desc";s:15:"mse2_prop_where";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:15:"showUnpublished";a:7:{s:4:"name";s:15:"showUnpublished";s:4:"desc";s:25:"mse2_prop_showUnpublished";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:11:"showDeleted";a:7:{s:4:"name";s:11:"showDeleted";s:4:"desc";s:21:"mse2_prop_showDeleted";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:10:"showHidden";a:7:{s:4:"name";s:10:"showHidden";s:4:"desc";s:20:"mse2_prop_showHidden";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:14:"hideContainers";a:7:{s:4:"name";s:14:"hideContainers";s:4:"desc";s:24:"mse2_prop_hideContainers";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:14:"introCutBefore";a:7:{s:4:"name";s:14:"introCutBefore";s:4:"desc";s:24:"mse2_prop_introCutBefore";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:50;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:13:"introCutAfter";a:7:{s:4:"name";s:13:"introCutAfter";s:4:"desc";s:23:"mse2_prop_introCutAfter";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:250;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"htagOpen";a:7:{s:4:"name";s:8:"htagOpen";s:4:"desc";s:18:"mse2_prop_htagOpen";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:3:"<b>";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:9:"htagClose";a:7:{s:4:"name";s:9:"htagClose";s:4:"desc";s:19:"mse2_prop_htagClose";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:4:"</b>";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:10:"parentsVar";a:7:{s:4:"name";s:10:"parentsVar";s:4:"desc";s:20:"mse2_prop_parentsVar";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:7:"parents";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"queryVar";a:7:{s:4:"name";s:8:"queryVar";s:4:"desc";s:18:"mse2_prop_queryVar";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:5:"query";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:10:"tplWrapper";a:7:{s:4:"name";s:10:"tplWrapper";s:4:"desc";s:20:"mse2_prop_tplWrapper";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:11:"wrapIfEmpty";a:7:{s:4:"name";s:11:"wrapIfEmpty";s:4:"desc";s:21:"mse2_prop_wrapIfEmpty";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:11:"forceSearch";a:7:{s:4:"name";s:11:"forceSearch";s:4:"desc";s:21:"mse2_prop_forceSearch";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"minQuery";a:7:{s:4:"name";s:8:"minQuery";s:4:"desc";s:18:"mse2_prop_minQuery";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";i:3;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:6:"fields";a:7:{s:4:"name";s:6:"fields";s:4:"desc";s:16:"mse2_prop_fields";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:9:"onlyIndex";a:7:{s:4:"name";s:9:"onlyIndex";s:4:"desc";s:19:"mse2_prop_onlyIndex";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:12:"onlyAllWords";a:7:{s:4:"name";s:12:"onlyAllWords";s:4:"desc";s:22:"mse2_prop_onlyAllWords";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:13:"showSearchLog";a:7:{s:4:"name";s:13:"showSearchLog";s:4:"desc";s:23:"mse2_prop_showSearchLog";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/snippets/snippet.msearch2.php',
      'content' => '/** @var array $scriptProperties */
/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
if (!$pdoClass = $modx->loadClass($fqn, \'\', false, true)) {return false;}
$pdoFetch = new $pdoClass($modx, $scriptProperties);
$pdoFetch->addTime(\'pdoTools loaded.\');
/** @var mSearch2 $mSearch2 */
if (!$modx->loadClass(\'msearch2\', MODX_CORE_PATH . \'components/msearch2/model/msearch2/\', false, true)) {return false;}
$mSearch2 = new mSearch2($modx, $scriptProperties, $pdoFetch);

if (empty($queryVar)) {$queryVar = \'query\';}
if (empty($parentsVar)) {$parentsVar = \'parents\';}
if (empty($minQuery)) {$minQuery = $modx->getOption(\'index_min_words_length\', null, 3, true);}
if (empty($htagOpen)) {$htagOpen = \'<b>\';}
if (empty($htagClose)) {$htagClose = \'</b>\';}
if (empty($outputSeparator)) {$outputSeparator = "\\n";}
if (empty($plPrefix)) {$plPrefix = \'mse2_\';}
$returnIds = !empty($returnIds);
$fastMode = !empty($fastMode);

$class = \'modResource\';
$found = array();
$output = null;
$query = !empty($_REQUEST[$queryVar])
	? htmlspecialchars(strip_tags(trim($_REQUEST[$queryVar])))
	: \'\';

if (empty($resources)) {
	if (empty($query) && isset($_REQUEST[$queryVar])) {
		$output = $modx->lexicon(\'mse2_err_no_query\');
	}
	elseif (empty($query) && !empty($forceSearch)) {
		$output = $modx->lexicon(\'mse2_err_no_query_var\');
	}
	elseif (!empty($query) && !preg_match(\'/^[0-9]{2,}$/\', $query) && mb_strlen($query,\'UTF-8\') < $minQuery) {
		$output = $modx->lexicon(\'mse2_err_min_query\');
	}

	$modx->setPlaceholder($plPrefix.$queryVar, $query);

	if (!empty($output)) {
		return !$returnIds
			? $output
			: \'\';
	}
	elseif (!empty($query)) {
		$found = $mSearch2->Search($query);
		$ids = array_keys($found);
		$resources = implode(\',\', $ids);
		if (empty($found)) {
			if ($returnIds) {
				return \'\';
			}
			elseif (!empty($query)) {
				$output = $modx->lexicon(\'mse2_err_no_results\');
			}
			if (!empty($tplWrapper) && !empty($wrapIfEmpty)) {
				$output = $pdoFetch->getChunk(
					$tplWrapper,
					array(
						\'output\' => $output,
						\'total\' => 0,
						\'query\' => $query,
						\'parents\' => $modx->getPlaceholder($plPrefix.$parentsVar),
					),
					$fastMode
				);
			}
			if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
				$output .= \'<pre class="mSearchLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
			}
			if (!empty($toPlaceholder)) {
				$modx->setPlaceholder($toPlaceholder, $output);
				return;
			}
			else {
				return $output;
			}
		}
	}
}
elseif (strpos($resources, \'{\') === 0) {
	$found = $modx->fromJSON($resources);
	$resources = implode(\',\', array_keys($found));
	unset($scriptProperties[\'resources\']);
}
/*----------------------------------------------------------------------------------*/
// Joining tables
$leftJoin = array(
	\'mseIntro\' => array(
		\'class\' => \'mseIntro\',
		\'alias\' => \'Intro\',
		\'on\' => \'`modResource`.`id`=`Intro`.`resource`\'
	)
);
// Fields to select
$resourceColumns = !empty($includeContent)
	? $modx->getSelectColumns($class, $class)
	: $modx->getSelectColumns($class, $class, \'\', array(\'content\'), true);
$select = array(
	$class => $resourceColumns,
	\'Intro\' => \'intro\'
);

// Add custom parameters
foreach (array(\'leftJoin\',\'select\') as $v) {
	if (!empty($scriptProperties[$v])) {
		$tmp = $modx->fromJSON($scriptProperties[$v]);
		if (is_array($tmp)) {
			$$v = array_merge($$v, $tmp);
		}
	}
	unset($scriptProperties[$v]);
}

// Default parameters
$default = array(
	\'class\' => $class,
	//,\'where\' => $modx->toJSON($where),
	\'leftJoin\' => $modx->toJSON($leftJoin),
	\'select\' => $modx->toJSON($select),
	\'groupby\' => $class.\'.id\',
	\'fastMode\' => $fastMode,
	\'return\' => !empty($returnIds)
			? \'ids\'
			: \'data\',
	\'nestedChunkPrefix\' => \'msearch2_\',
);
if (!empty($resources)) {
	$default[\'resources\'] = is_array($resources)
		? implode(\',\', $resources)
		: $resources;
}

// Merge all properties and run!
$pdoFetch->setConfig(array_merge($default, $scriptProperties), false);
$pdoFetch->addTime(\'Query parameters are prepared.\');
$rows = $pdoFetch->run();

// Processing results
if ($returnIds) {
	if (!empty($toPlaceholder)) {
		$modx->setPlaceholder($toPlaceholder, $rows);
		return \'\';
	}
	else {
		return $rows;
	}
}
elseif (!empty($rows) && is_array($rows)) {
	$output = array();
	foreach ($rows as $k => $row) {
		// Processing main fields
		$row[\'weight\'] = isset($found[$row[\'id\']]) ? $found[$row[\'id\']] : \'\';
		$row[\'intro\'] = $mSearch2->Highlight($row[\'intro\'], $query, $htagOpen, $htagClose);

		$row[\'idx\'] = $pdoFetch->idx++;
		$tplRow = $pdoFetch->defineChunk($row);
		$output[] .= empty($tplRow)
			? $pdoFetch->getChunk(\'\', $row)
			: $pdoFetch->getChunk($tplRow, $row, $fastMode);
	}
	$pdoFetch->addTime(\'Returning processed chunks\');
	if (!empty($output)) {
		$output = implode($outputSeparator, $output);
	}
}
else {
	$output = $modx->lexicon(\'mse2_err_no_results\');
}

if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
	$output .= \'<pre class="mSearchLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

// Return output
if (!empty($tplWrapper) && (!empty($wrapIfEmpty) || !empty($output))) {
	$output = $pdoFetch->getChunk(
		$tplWrapper,
		array(
			\'output\' => $output,
			\'total\' => $modx->getPlaceholder($pdoFetch->config[\'totalVar\']),
			\'query\' => $modx->getPlaceholder($plPrefix.$queryVar),
			\'parents\' => $modx->getPlaceholder($plPrefix.$parentsVar),
		),
		$fastMode
	);
}

if (!empty($toPlaceholder)) {
	$modx->setPlaceholder($toPlaceholder, $output);
}
else {
	return $output;
}',
    ),
  ),
  'd5077432a29b7fe829a56353a56102bc' => 
  array (
    'criteria' => 
    array (
      'name' => 'mSearchForm',
    ),
    'object' => 
    array (
      'id' => 24,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'mSearchForm',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '/** @var array $scriptProperties */
/** @var pdoTools $pdoTools */
$fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdofetch\', true);
if (!$pdoClass = $modx->loadClass($fqn, \'\', false, true)) {return false;}
$pdoTools = new $pdoClass($modx, $scriptProperties);
$pdoTools->addTime(\'pdoTools loaded.\');

/** @var mSearch2 $mSearch2 */
if (!$modx->loadClass(\'msearch2\', MODX_CORE_PATH . \'components/msearch2/model/msearch2/\', false, true)) {return false;}
$mSearch2 = new mSearch2($modx, array(), $pdoFetch);
$mSearch2->initialize($modx->context->key);

$config = array(
	\'autocomplete\' => !empty($autocomplete) ? $autocomplete : \'\',
	\'queryVar\' => !empty($queryVar) ? $queryVar : \'query\',
	\'minQuery\' => !empty($minQuery) ? (integer) $minQuery : 3,
	\'pageId\' => !empty($pageId) ? (integer) $pageId : $modx->resource->id,
);
$scriptProperties = array_merge($scriptProperties, $config);

if (empty($tplForm)) {$tplForm = \'tpl.mSearch2.form\';}
$form = $pdoTools->getChunk($tplForm, $scriptProperties);

if (!empty($config[\'autocomplete\'])) {
	$hash = sha1(serialize($scriptProperties));
	$_SESSION[\'mSearch2\'][$hash] = $scriptProperties;

	$form = str_ireplace(\'<form\', \'<form data-key="\'.$hash.\'"\', $form);
	// Place for enabled log
	if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
		$form = str_ireplace(\'</form>\', "</form>\\n<pre class=\\"mSearchFormLog\\"></pre>", $form);
	}

	// Setting values for frontend javascript
	$main_config = array(
		\'cssUrl\' => $mSearch2->config[\'cssUrl\'].\'web/\',
		\'jsUrl\' => $mSearch2->config[\'jsUrl\'].\'web/\',
		\'actionUrl\' => $mSearch2->config[\'actionUrl\'],
	);

	$modx->regClientStartupScript(\'
	<script type="text/javascript">
		if (typeof mse2Config == "undefined") {mse2Config = \' . $modx->toJSON($main_config) . \';}
		if (typeof mse2FormConfig == "undefined") {mse2FormConfig = {};}
		mse2FormConfig["\' . $hash . \'"] = \' . $modx->toJSON($config) . \';
	</script>\', true);
	$modx->regClientScript(\'
	<script type="text/javascript">
		if ($("form.msearch2").length) {
			mSearch2.Form.initialize("form.msearch2");
		}
	</script>\', true);
}

return $form;',
      'locked' => 0,
      'properties' => 'a:10:{s:6:"pageId";a:7:{s:4:"name";s:6:"pageId";s:4:"desc";s:16:"mse2_prop_pageId";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"tplForm";a:7:{s:4:"name";s:7:"tplForm";s:4:"desc";s:17:"mse2_prop_tplForm";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:17:"tpl.mSearch2.form";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:3:"tpl";a:7:{s:4:"name";s:3:"tpl";s:4:"desc";s:13:"mse2_prop_tpl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:15:"tpl.mSearch2.ac";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"element";a:7:{s:4:"name";s:7:"element";s:4:"desc";s:17:"mse2_prop_element";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:8:"mSearch2";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:5:"limit";a:7:{s:4:"name";s:5:"limit";s:4:"desc";s:15:"mse2_prop_limit";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:5;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:12:"autocomplete";a:7:{s:4:"name";s:12:"autocomplete";s:4:"desc";s:22:"mse2_prop_autocomplete";s:4:"type";s:4:"list";s:7:"options";a:3:{i:0;a:2:{s:4:"text";s:8:"Disabled";s:5:"value";i:0;}i:1;a:2:{s:4:"text";s:7:"Results";s:5:"value";s:7:"results";}i:2;a:2:{s:4:"text";s:7:"Queries";s:5:"value";s:7:"queries";}}s:5:"value";s:7:"results";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"queryVar";a:7:{s:4:"name";s:8:"queryVar";s:4:"desc";s:18:"mse2_prop_queryVar";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:5:"query";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"minQuery";a:7:{s:4:"name";s:8:"minQuery";s:4:"desc";s:18:"mse2_prop_minQuery";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";i:3;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:6:"fields";a:7:{s:4:"name";s:6:"fields";s:4:"desc";s:16:"mse2_prop_fields";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:9:"onlyIndex";a:7:{s:4:"name";s:9:"onlyIndex";s:4:"desc";s:19:"mse2_prop_onlyIndex";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/snippets/snippet.msearchform.php',
      'content' => '/** @var array $scriptProperties */
/** @var pdoTools $pdoTools */
$fqn = $modx->getOption(\'pdoTools.class\', null, \'pdotools.pdofetch\', true);
if (!$pdoClass = $modx->loadClass($fqn, \'\', false, true)) {return false;}
$pdoTools = new $pdoClass($modx, $scriptProperties);
$pdoTools->addTime(\'pdoTools loaded.\');

/** @var mSearch2 $mSearch2 */
if (!$modx->loadClass(\'msearch2\', MODX_CORE_PATH . \'components/msearch2/model/msearch2/\', false, true)) {return false;}
$mSearch2 = new mSearch2($modx, array(), $pdoFetch);
$mSearch2->initialize($modx->context->key);

$config = array(
	\'autocomplete\' => !empty($autocomplete) ? $autocomplete : \'\',
	\'queryVar\' => !empty($queryVar) ? $queryVar : \'query\',
	\'minQuery\' => !empty($minQuery) ? (integer) $minQuery : 3,
	\'pageId\' => !empty($pageId) ? (integer) $pageId : $modx->resource->id,
);
$scriptProperties = array_merge($scriptProperties, $config);

if (empty($tplForm)) {$tplForm = \'tpl.mSearch2.form\';}
$form = $pdoTools->getChunk($tplForm, $scriptProperties);

if (!empty($config[\'autocomplete\'])) {
	$hash = sha1(serialize($scriptProperties));
	$_SESSION[\'mSearch2\'][$hash] = $scriptProperties;

	$form = str_ireplace(\'<form\', \'<form data-key="\'.$hash.\'"\', $form);
	// Place for enabled log
	if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
		$form = str_ireplace(\'</form>\', "</form>\\n<pre class=\\"mSearchFormLog\\"></pre>", $form);
	}

	// Setting values for frontend javascript
	$main_config = array(
		\'cssUrl\' => $mSearch2->config[\'cssUrl\'].\'web/\',
		\'jsUrl\' => $mSearch2->config[\'jsUrl\'].\'web/\',
		\'actionUrl\' => $mSearch2->config[\'actionUrl\'],
	);

	$modx->regClientStartupScript(\'
	<script type="text/javascript">
		if (typeof mse2Config == "undefined") {mse2Config = \' . $modx->toJSON($main_config) . \';}
		if (typeof mse2FormConfig == "undefined") {mse2FormConfig = {};}
		mse2FormConfig["\' . $hash . \'"] = \' . $modx->toJSON($config) . \';
	</script>\', true);
	$modx->regClientScript(\'
	<script type="text/javascript">
		if ($("form.msearch2").length) {
			mSearch2.Form.initialize("form.msearch2");
		}
	</script>\', true);
}

return $form;',
    ),
  ),
  '9bc81e10ee2cc99f56a85a93fedfe949' => 
  array (
    'criteria' => 
    array (
      'name' => 'mFilter2',
    ),
    'object' => 
    array (
      'id' => 25,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'mFilter2',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'snippet' => '/** @var array $scriptProperties */
/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
if (!$pdoClass = $modx->loadClass($fqn, \'\', false, true)) {return false;}
$pdoFetch = new $pdoClass($modx, $scriptProperties);
$pdoFetch->addTime(\'pdoTools loaded.\');
/** @var mSearch2 $mSearch2 */
if (!$modx->loadClass(\'msearch2\', MODX_CORE_PATH . \'components/msearch2/model/msearch2/\', false, true)) {return false;}
$mSearch2 = new mSearch2($modx, $scriptProperties, $pdoFetch);
$mSearch2->initialize($modx->context->key);
$savedProperties = array();

if (empty($queryVar)) {$queryVar = \'query\';}
if (empty($parentsVar)) {$parentsVar = \'parents\';}
if (empty($minQuery)) {$minQuery = $modx->getOption(\'index_min_words_length\', null, 3, true);}
if (empty($classActive)) {$classActive = \'active\';}
if (isset($scriptProperties[\'disableSuggestions\'])) {$scriptProperties[\'suggestions\'] = empty($scriptProperties[\'disableSuggestions\']);}
if (empty($toPlaceholders) && !empty($toPlaceholder)) {$toPlaceholders = $toPlaceholder;}
if (empty($plPrefix)) {$plPrefix = \'mse2_\';}
if (isset($_REQUEST[\'limit\']) && is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {$limit = abs($_REQUEST[\'limit\']);}
elseif (!isset($limit) || $limit == \'\') {$limit = 10;}
if (!isset($outputSeparator)) {$outputSeparator = "\\n";}
$fastMode = !empty($fastMode);
// All templates of filters are converted to lowercase
foreach ($scriptProperties as $k => $v) {
	if (strpos($k, \'tplFilter\') === 0) {
		$tmp = \'tplFilter.\' . strtolower(substr($k, 10));
		if ($tmp != $k) {
			unset($scriptProperties[$k]);
			$scriptProperties[$tmp] = $v;
		}
	}
}

$class = \'modResource\';
$output = array(\'filters\' => \'\', \'results\' => \'\', \'total\' => 0, \'limit\' => $limit);
$ids = $found = $log = $where = array();

// ---------------------- Retrieving ids of resources for filter
$query = !empty($_REQUEST[$queryVar])
	? htmlspecialchars(strip_tags(trim($_REQUEST[$queryVar])))
	: \'\';

// Filter by ids
if (!empty($resources)) {
	$ids = array_map(\'trim\', explode(\',\', $resources));
}
elseif (isset($_REQUEST[$queryVar]) && empty($query)) {
	$output[\'results\'] =  $modx->lexicon(\'mse2_err_no_query\');
}
elseif (empty($query) && !empty($forceSearch)) {
	$output[\'results\'] = $modx->lexicon(\'mse2_err_no_query_var\');
}
elseif (isset($_REQUEST[$queryVar]) && !preg_match(\'/^[0-9]{2,}$/\', $query) && mb_strlen($query,\'UTF-8\') < $minQuery) {
	$output[\'results\'] = $modx->lexicon(\'mse2_err_min_query\');
}
elseif (isset($_REQUEST[$queryVar])) {
	$modx->setPlaceholder($plPrefix.$queryVar, $query);

	$found = $mSearch2->Search($query);
	$ids = array_keys($found);

	if (!empty($ids)) {
		$tmp = $scriptProperties;
		$tmp[\'returnIds\'] = 1;
		$tmp[\'resources\'] = implode(\',\', $ids);
		$tmp[\'parents\'] = $scriptProperties[\'parents\'];
		$tmp[\'limit\'] = 0;
		$ids = explode(\',\', $modx->runSnippet($scriptProperties[\'element\'], $tmp));
		$pdoFetch->addTime(\'Found ids: "\'.implode(\',\',$ids).\'"\');
	}

	if (empty($ids[0])) {
		$output[\'results\'] = $modx->lexicon(\'mse2_err_no_results\');
	}
}

$modx->setPlaceholder($plPrefix.$queryVar, $query);

// Has error message - exit
if (!empty($output[\'results\'])) {
	$log = \'\';
	if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
		$log = \'<pre class="mFilterLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
	}
	if (!empty($toSeparatePlaceholders)) {
		$output[\'log\'] = $log;
		$modx->setPlaceholders($output, $toSeparatePlaceholders);
		return;
	}
	elseif (!empty($toPlaceholders)) {
		$output[\'log\'] = $log;
		$modx->setPlaceholders($output, $toPlaceholders);
		return;
	}
	else {
		$output = $pdoFetch->getChunk($scriptProperties[\'tplOuter\'], $output, $fastMode);
		$output .= $log;
		return $output;
	}
}

// ---------------------- Checking resources by status and custom "where" parameter
// Support for specifying property set in the element name
$elementName = $scriptProperties[\'element\'];
$elementSet = array();
if (strpos($elementName, \'@\') !== false) {
	list($elementName, $elementSet) = explode(\'@\', $elementName);
}
/** @var modSnippet $snippet */
if (!empty($elementName) && $element = $modx->getObject(\'modSnippet\', array(\'name\' => $elementName))) {
	$elementProperties = $element->getProperties();
	$elementPropertySet = !empty($elementSet)
		? $element->getPropertySet($elementSet)
		: array();
	if (!is_array($elementPropertySet)) {$elementPropertySet = array();}
	$params = array_merge(
		$elementProperties,
		$elementPropertySet,
		$scriptProperties,
		array(
			\'parents\' => empty($scriptProperties[$parentsVar]) && !empty($_REQUEST[$parentsVar])
				? $_REQUEST[$parentsVar]
				: $scriptProperties[$parentsVar],
			\'returnIds\' => 1,
			\'limit\' => 0,
		)
	);
	if (!empty($ids)) {
		$params[\'resources\'] = implode(\',\', $ids);
	}
	$element->setCacheable(false);
	$tmp = $element->process($params);
	if (!empty($tmp)) {
		$tmp = explode(\',\', $tmp);
		$ids = !empty($ids)
			? array_intersect($ids, $tmp)
			: $tmp;
	}
	$pdoFetch->addTime(\'Fetched ids for building filters: "\'.implode(\',\',$ids).\'" from element "\'.$elementName.\'"\');
}
else {
	$modx->log(modX::LOG_LEVEL_ERROR, \'[mSearch2] Could not find main snippet with name: "\'.$elementName.\'"\');
	return \'\';
}

// ---------------------- Nothing to filter, exit
if (empty($ids)) {
	if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
		$log = \'<pre class="mFilterLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
	}
	else {$log = \'\';}

	$output = array_merge($output, array(
		\'filters\' => $modx->lexicon(\'mse2_err_no_filters\'),
		\'results\' => $modx->lexicon(\'mse2_err_no_results\'),
		\'log\' => $log
	));

	if (!empty($toSeparatePlaceholders)) {
		$modx->setPlaceholders($output, $toSeparatePlaceholders);
		return;
	}
	elseif (!empty($toPlaceholders)) {
		$modx->setPlaceholders($output, $toPlaceholders);
		return;
	}
	else {
		$output[\'results\'] .= $log;
		return $pdoFetch->getChunk($scriptProperties[\'tplOuter\'], $output, $fastMode);
	}
}

// ---------------------- Checking for suggestions processing
// Checking by results count
if (!empty($scriptProperties[\'suggestionsMaxResults\']) && count($ids) > $scriptProperties[\'suggestionsMaxResults\']) {
	$scriptProperties[\'suggestions\'] = false;
	$pdoFetch->addTime(\'Suggestions disabled by "suggestionsMaxResults" parameter: results count is \'.count($ids).\', max allowed is \'.$scriptProperties[\'suggestionsMaxResults\']);
}
else {
	$pdoFetch->addTime(\'Total number of results: \'.count($ids));
}

// Then get filters
$pdoFetch->addTime(\'Getting filters for ids: "\'.implode(\',\',$ids).\'"\');
$filters = \'\'; $count = 0;
if (!empty($ids)) {
	$filters = $mSearch2->getFilters($ids);
	// And checking by filters count
	if (!empty($filters) && $scriptProperties[\'suggestions\']) {
		foreach ($filters as $tmp) {
			if (!is_array($tmp)) {continue;}
			$count += count(array_values($tmp));
		}
		if (!empty($scriptProperties[\'suggestionsMaxFilters\']) && $count > $scriptProperties[\'suggestionsMaxFilters\']) {
			$scriptProperties[\'suggestions\'] = false;
			$pdoFetch->addTime(\'Suggestions disabled by "suggestionsMaxFilters" parameter: filters count is \'.$count.\', max allowed is \'.$scriptProperties[\'suggestionsMaxFilters\']);
		}
		else {
			$pdoFetch->addTime(\'Total number of filters: \'.$count);
		}
	}
}
$modx->setPlaceholder($plPrefix . \'filters_count\', $count );


// ---------------------- Loading results
$start_sort = implode(\',\', array_map(\'trim\' , explode(\',\', $scriptProperties[\'sort\'])));
$start_limit = 0;
$suggestions = array();
$page = $sort = \'\';

// Support for specifying property set in the paginator name
$paginatorName = $scriptProperties[\'paginator\'];
$paginatorSet = array();
if (strpos($paginatorName, \'@\') !== false) {
	list($paginatorName, $paginatorSet) = explode(\'@\', $paginatorName);
}
if (!empty($ids)) {
	/* @var modSnippet $paginator */
	if ($paginator = $modx->getObject(\'modSnippet\', array(\'name\' => $paginatorName))) {
		$paginatorProperties = $paginator->getProperties();
		$paginatorPropertySet = !empty($paginatorSet)
			? $paginator->getPropertySet($paginatorSet)
			: array();
		if (!is_array($paginatorPropertySet)) {$paginatorPropertySet = array();}
		$paginatorProperties = array_merge(
			$paginatorProperties,
			$paginatorPropertySet,
			$elementPropertySet,
			$scriptProperties,
			array(
				\'resources\' => implode(\',\', $ids),
				\'parents\' => \'0\',
				\'element\' => $elementName,
				\'defaultSort\' => $start_sort,
				\'toPlaceholder\' => false,
				\'limit\' => $limit,
				\'ajaxMode\' => \'\',
				\'ajax\' => 0,
				\'frontend_js\' => \'\',
				\'frontend_css\' => \'\',
			)
		);

		// Switching chunk for rows, if specified
		if (!empty($scriptProperties[\'tpls\'])) {
			$tmp = isset($_REQUEST[\'tpl\']) ? (integer) $_REQUEST[\'tpl\'] : 0;
			$tpls = array_map(\'trim\', explode(\',\', $scriptProperties[\'tpls\']));
			$paginatorProperties[\'tpls\'] = $tpls;
			if (isset($tpls[$tmp])) {
				$paginatorProperties[\'tpl\'] = $tpls[$tmp];
				$paginatorProperties[\'tpl_idx\'] = $tmp;
			}
		}

		// Trying to save weight of found ids if using mSearch2
		$weight = false;
		if (!empty($found) && strtolower($elementName) == \'msearch2\') {
			$tmp = array();
			foreach ($ids as $v) {
				$tmp[$v] = isset($found[$v])
					? $found[$v]
					: 0;
			}
			$paginatorProperties[\'resources\'] = $modx->toJSON($tmp);
			$weight = true;
		}

		if (!empty($_REQUEST[\'sort\'])) {$sort = $_REQUEST[\'sort\'];}
		elseif (!empty($start_sort)) {$sort = $start_sort;}
		else {
			/*
			$sortby = !empty($scriptProperties[\'sortby\']) ? $scriptProperties[\'sortby\'] : \'\';
			if (!empty($sortby)) {
				$sortdir = !empty($scriptProperties[\'sortdir\']) ? $scriptProperties[\'sortdir\'] : \'asc\';
				$sort = $sortby.$mSearch2->config[\'method_delimeter\'].$sortdir;
			}
			*/
		}

		if (!empty($_REQUEST[$paginatorProperties[\'pageVarKey\']])) {
			$page = (int) $_REQUEST[$paginatorProperties[\'pageVarKey\']];
		}
		if (!empty($sort)) {
			$paginatorProperties[\'sortby\'] = $mSearch2->getSortFields($sort);
			$paginatorProperties[\'sortdir\'] = \'\';
		}

		$start_limit = !empty($scriptProperties[\'limit\'])
				? $scriptProperties[\'limit\']
				: $paginatorProperties[\'limit\'];
		$paginatorProperties[\'start_limit\'] = $start_limit;
		$savedProperties[\'paginatorProperties\'] = $paginatorProperties;

		// We have a delimeters in $_GET, so need to filter resources
		if (strpos(implode(array_keys($_GET)), $mSearch2->config[\'filter_delimeter\']) !== false || !empty($mSearch2->aliases)) {
			$matched = $mSearch2->Filter($ids, $_REQUEST);
			$matched = array_intersect($ids, $matched);
			if ($scriptProperties[\'suggestions\']) {
				$suggestions = $mSearch2->getSuggestions($ids, $_REQUEST, $matched);
				$pdoFetch->addTime(\'Suggestions retrieved.\');
			}
			// Trying to save weight of found ids again
			if ($weight) {
				$tmp = array();
				foreach ($matched as $v) {$tmp[$v] = isset($found[$v]) ? $found[$v] : 0;}
				$paginatorProperties[\'resources\'] = $modx->toJSON($tmp);
			}
			else {
				$paginatorProperties[\'resources\'] = implode(\',\', $matched);
			}
		}
		// Saving log
		$log = $pdoFetch->timings;
		$pdoFetch->timings = array();

		//$paginator->setProperties($paginatorProperties);
		$paginator->setCacheable(false);
		$output[\'results\'] = !empty($paginatorProperties[\'resources\'])
			? $paginator->process($paginatorProperties)
			: $modx->lexicon(\'mse2_err_no_results\');
		$output[\'total\'] = $modx->getPlaceholder($paginatorProperties[\'totalVar\']);
	}
	else {
		$modx->log(modX::LOG_LEVEL_ERROR, \'[mSearch2] Could not find pagination snippet with name: "\'.$paginatorName.\'"\');
		return \'\';
	}
}

// ----------------------  Loading filters
$pdoFetch->timings = $log;
if (!empty($paginator)) {
	$pdoFetch->addTime(\'Fired paginator: "\'.$paginatorName.\'"\');
}
else {
	$pdoFetch->addTime(\'Could not find pagination snippet with name: "\'.$paginatorName.\'"\');
}
if (empty($filters)) {
	$pdoFetch->addTime(\'No filters retrieved\');
	$output[\'filters\'] = $modx->lexicon(\'mse2_err_no_filters\');
	if (empty($output[\'results\'])) {$output[\'results\'] = $modx->lexicon(\'mse2_err_no_results\');}
}
else {
	$pdoFetch->addTime(\'Filters retrieved\');
	$request = array();
	foreach ($_GET as $k => $v) {
		$tmp = explode($mSearch2->config[\'values_delimeter\'], $v);
		$request[$k] = array();
		foreach ($tmp as $v2) {
			$request[$k][] = str_replace(\'"\', \'&quot;\', $v2);
		}
	}

	$aliases = $mSearch2->aliases;
	foreach ($filters as $filter => $data) {
		if (empty($data) || !is_array($data)) {
			continue;
		}
		$rows = $has_active = \'\';
		list($table, $method) = explode($mSearch2->config[\'filter_delimeter\'], $filter);
		$filter_key = !empty($aliases[$filter])
			? $aliases[$filter]
			: $filter;

		$tplOuter = !empty($scriptProperties[\'tplFilter.outer.\' . $filter_key])
			? $scriptProperties[\'tplFilter.outer.\' . $filter_key]
			: $scriptProperties[\'tplFilter.outer.default\'];
		$tplRow = !empty($scriptProperties[\'tplFilter.row.\' . $filter_key])
			? $scriptProperties[\'tplFilter.row.\' . $filter_key]
			: $scriptProperties[\'tplFilter.row.default\'];
		$tplEmpty = !empty($scriptProperties[\'tplFilter.empty.\' . $filter_key])
			? $scriptProperties[\'tplFilter.empty.\' . $filter_key]
			: \'\';

		$idx = 0;
		foreach ($data as $v) {
			if (empty($v)) {continue;}
			$checked = isset($request[$filter_key]) && in_array($v[\'value\'], $request[$filter_key]) && isset($v[\'type\']) && $v[\'type\'] != \'number\';
			if ($scriptProperties[\'suggestions\']) {
				if ($checked) {
					$num = \'\';
					$has_active = \'has_active\';
				}
				elseif (isset($suggestions[$filter_key][$v[\'value\']])) {
					$num = $suggestions[$filter_key][$v[\'value\']];
				}
				else {
					$num = !empty($v[\'resources\'])
						? count($v[\'resources\'])
						: \'\';
				}
			}
			else {
				$num = \'\';
			}

			$rows .= $pdoFetch->getChunk($tplRow, array(
				\'filter\' => $method,
				\'table\' => $table,
				\'title\' => $v[\'title\'],
				\'value\' => $v[\'value\'],
				\'type\' => $v[\'type\'],
				\'checked\' => $checked
					? \'checked\'
					: \'\',
				\'selected\' => $checked
					? \'selected\'
					: \'\',
				\'disabled\' => !$checked && empty($num) && $scriptProperties[\'suggestions\']
					? \'disabled\'
					: \'\',
				\'delimeter\' => $mSearch2->config[\'filter_delimeter\'],
				\'idx\' => $idx++,
				\'num\' => $num,
				\'filter_key\' => $filter_key,
			), $fastMode);
		}

		$tpl = empty($rows) ? $tplEmpty : $tplOuter;
		if (!isset($output[\'filters\'][$filter])) {
			$output[\'filters\'][$filter] = \'\';
		}
		$output[\'filters\'][$filter] = $pdoFetch->getChunk($tpl, array(
			\'filter\' => $method,
			\'table\' => $table,
			\'rows\' => $rows,
			\'has_active\' => $has_active,
			\'delimeter\' => $mSearch2->config[\'filter_delimeter\'],
			\'filter_key\' => $filter_key,
		), $fastMode);
	}

	if (empty($output[\'filters\'])) {
		$output[\'filters\'] = $modx->lexicon(\'mse2_err_no_filters\');
		if (empty($output[\'results\'])) {$output[\'results\'] = $modx->lexicon(\'mse2_err_no_results\');}
	}
	else {
		$pdoFetch->addTime(\'Filters templated\');
	}
}
$pdoFetch->addTime(\'Total filter operations: \'.$mSearch2->filter_operations);

// Saving params into cache for ajax requests
$savedProperties[\'scriptProperties\'] = $scriptProperties;
$hash = sha1(serialize($savedProperties));
$_SESSION[\'mSearch2\'][$hash] = $savedProperties;

// Active class for sort links
if (!empty($sort)) {$output[$sort] = $classActive;}
if (isset($paginatorProperties[\'tpl_idx\'])) {
	$output[\'tpl\'.$paginatorProperties[\'tpl_idx\']] = $classActive;
	$output[\'tpls\'] = 1;
}

// Setting values for frontend javascript
$config = array(
	\'cssUrl\' => $mSearch2->config[\'cssUrl\'].\'web/\',
	\'jsUrl\' => $mSearch2->config[\'jsUrl\'].\'web/\',
	\'actionUrl\' => $mSearch2->config[\'actionUrl\'],
	\'queryVar\' => $mSearch2->config[\'queryVar\'],
	\'idVar\' => $modx->getOption(\'request_param_id\', null, \'id\'),
	\'filter_delimeter\' => $mSearch2->config[\'filter_delimeter\'],
	\'method_delimeter\' => $mSearch2->config[\'method_delimeter\'],
	\'values_delimeter\' => $mSearch2->config[\'values_delimeter\'],
	\'start_sort\' => $start_sort,
	\'start_limit\' => $start_limit,
	\'start_page\' => 1,
	\'start_tpl\' => \'\',
	\'sort\' => $sort == $start_sort ? \'\' : $sort,
	\'limit\' => $limit == $start_limit ? \'\' : $limit,
	\'page\' => $page,
	\'pageVar\' => $paginatorProperties[\'pageVarKey\'],
	\'tpl\' => !empty($paginatorProperties[\'tpl_idx\'])
			? $paginatorProperties[\'tpl_idx\']
			: \'\',
	\'parentsVar\' => $parentsVar,
	\'key\' => $hash,
	\'pageId\' => !empty($pageId) ? (integer) $pageId : $modx->resource->id,
	$queryVar => isset($_REQUEST[$queryVar]) ? $_REQUEST[$queryVar] : \'\',
	$parentsVar => isset($_REQUEST[$parentsVar]) ? $_REQUEST[$parentsVar] : \'\',
	\'aliases\' => array_flip($mSearch2->aliases),
	\'options\' => array(),
	\'mode\' => in_array($scriptProperties[\'ajaxMode\'], array(\'button\', \'scroll\')) ? $scriptProperties[\'ajaxMode\'] : \'\',
	\'moreText\' => $modx->lexicon(\'mse2_more\'),
);
if (!empty($scriptProperties[\'filterOptions\'])) {
	$filterOptions = $modx->fromJSON($scriptProperties[\'filterOptions\']);
	if (is_array($filterOptions)) {
		$config[\'filterOptions\'] = $filterOptions;
	}
}

$modx->regClientStartupScript(\'
<script type="text/javascript">
mse2Config = \' . $modx->toJSON($config) . \';
</script>\', true);
$modx->regClientScript(\'
<script type="text/javascript">
if ($("#mse2_mfilter").length) {
	if (window.location.hash != "" && mSearch2.Hash.oldbrowser()) {
		var uri = window.location.hash.replace("#", "?");
		window.location.href = document.location.pathname + uri;
	}
	else {
		mSearch2.initialize("body");
	}
}
</script>\', true);
$modx->setPlaceholders($config, $plPrefix);

// Prepare output
$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
	$log = \'<pre class="mFilterLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

if (!empty($toSeparatePlaceholders)) {
	$modx->setPlaceholders($output[\'filters\'], $toSeparatePlaceholders);
	$output[\'log\'] = $log;
	if (is_array($output[\'filters\'])) {
		$output[\'filters\'] = implode($outputSeparator, $output[\'filters\']);
	}

	$pcre = \'#^\' . preg_quote($toSeparatePlaceholders) . \'(\\d+)$#\';
	$tmp = array();
	foreach ($modx->placeholders as $k => $v) {
		if (preg_match($pcre, $k)) {
			$tmp[] = $v;
		}
	}

	$output[\'results\'] = !empty($tmp)
		? implode($outputSeparator, $tmp)
		: $modx->lexicon(\'mse2_err_no_results\');

	$modx->setPlaceholders($output, $toSeparatePlaceholders);
}
else {
	if (is_array($output[\'filters\'])) {
		$output[\'filters\'] = implode($outputSeparator, $output[\'filters\']);
	}
	if (!empty($toPlaceholders)) {
		$output[\'log\'] = $log;
		$modx->setPlaceholders($output, $toPlaceholders);
	}
	else {
		$output = $pdoFetch->getChunk($scriptProperties[\'tplOuter\'], $output, $fastMode);
		$output .= $log;

		return $output;
	}
}',
      'locked' => 0,
      'properties' => 'a:35:{s:9:"paginator";a:7:{s:4:"name";s:9:"paginator";s:4:"desc";s:19:"mse2_prop_paginator";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:7:"pdoPage";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"element";a:7:{s:4:"name";s:7:"element";s:4:"desc";s:17:"mse2_prop_element";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:8:"mSearch2";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:4:"sort";a:7:{s:4:"name";s:4:"sort";s:4:"desc";s:14:"mse2_prop_sort";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"filters";a:7:{s:4:"name";s:7:"filters";s:4:"desc";s:17:"mse2_prop_filters";s:4:"type";s:8:"textarea";s:7:"options";a:0:{}s:5:"value";s:23:"resource|parent:parents";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"aliases";a:7:{s:4:"name";s:7:"aliases";s:4:"desc";s:17:"mse2_prop_aliases";s:4:"type";s:8:"textarea";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:16:"showEmptyFilters";a:7:{s:4:"name";s:16:"showEmptyFilters";s:4:"desc";s:26:"mse2_prop_showEmptyFilters";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:9:"resources";a:7:{s:4:"name";s:9:"resources";s:4:"desc";s:19:"mse2_prop_resources";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"parents";a:7:{s:4:"name";s:7:"parents";s:4:"desc";s:17:"mse2_prop_parents";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:5:"depth";a:7:{s:4:"name";s:5:"depth";s:4:"desc";s:15:"mse2_prop_depth";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:10;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"tplOuter";a:7:{s:4:"name";s:8:"tplOuter";s:4:"desc";s:18:"mse2_prop_tplOuter";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:18:"tpl.mFilter2.outer";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:23:"tplFilter.outer.default";a:7:{s:4:"name";s:23:"tplFilter.outer.default";s:4:"desc";s:33:"mse2_prop_tplFilter.outer.default";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:25:"tpl.mFilter2.filter.outer";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:21:"tplFilter.row.default";a:7:{s:4:"name";s:21:"tplFilter.row.default";s:4:"desc";s:31:"mse2_prop_tplFilter.row.default";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:28:"tpl.mFilter2.filter.checkbox";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:10:"showHidden";a:7:{s:4:"name";s:10:"showHidden";s:4:"desc";s:20:"mse2_prop_showHidden";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:11:"showDeleted";a:7:{s:4:"name";s:11:"showDeleted";s:4:"desc";s:21:"mse2_prop_showDeleted";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:15:"showUnpublished";a:7:{s:4:"name";s:15:"showUnpublished";s:4:"desc";s:25:"mse2_prop_showUnpublished";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:14:"hideContainers";a:7:{s:4:"name";s:14:"hideContainers";s:4:"desc";s:24:"mse2_prop_hideContainers";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:7:"showLog";a:7:{s:4:"name";s:7:"showLog";s:4:"desc";s:17:"mse2_prop_showLog";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"fastMode";a:7:{s:4:"name";s:8:"fastMode";s:4:"desc";s:18:"mse2_prop_fastMode";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:11:"suggestions";a:7:{s:4:"name";s:11:"suggestions";s:4:"desc";s:21:"mse2_prop_suggestions";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:1;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:21:"suggestionsMaxFilters";a:7:{s:4:"name";s:21:"suggestionsMaxFilters";s:4:"desc";s:31:"mse2_prop_suggestionsMaxFilters";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:200;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:21:"suggestionsMaxResults";a:7:{s:4:"name";s:21:"suggestionsMaxResults";s:4:"desc";s:31:"mse2_prop_suggestionsMaxResults";s:4:"type";s:11:"numberfield";s:7:"options";a:0:{}s:5:"value";i:1000;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:16:"suggestionsRadio";a:7:{s:4:"name";s:16:"suggestionsRadio";s:4:"desc";s:26:"mse2_prop_suggestionsRadio";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:14:"toPlaceholders";a:7:{s:4:"name";s:14:"toPlaceholders";s:4:"desc";s:24:"mse2_prop_toPlaceholders";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:22:"toSeparatePlaceholders";a:7:{s:4:"name";s:22:"toSeparatePlaceholders";s:4:"desc";s:32:"mse2_prop_toSeparatePlaceholders";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:16:"filter_delimeter";a:7:{s:4:"name";s:16:"filter_delimeter";s:4:"desc";s:26:"mse2_prop_filter_delimeter";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:1:"|";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:16:"method_delimeter";a:7:{s:4:"name";s:16:"method_delimeter";s:4:"desc";s:26:"mse2_prop_method_delimeter";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:1:":";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:16:"values_delimeter";a:7:{s:4:"name";s:16:"values_delimeter";s:4:"desc";s:26:"mse2_prop_values_delimeter";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:1:",";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:4:"tpls";a:7:{s:4:"name";s:4:"tpls";s:4:"desc";s:14:"mse2_prop_tpls";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:11:"forceSearch";a:7:{s:4:"name";s:11:"forceSearch";s:4:"desc";s:21:"mse2_prop_forceSearch";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:6:"fields";a:7:{s:4:"name";s:6:"fields";s:4:"desc";s:16:"mse2_prop_fields";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:9:"onlyIndex";a:7:{s:4:"name";s:9:"onlyIndex";s:4:"desc";s:19:"mse2_prop_onlyIndex";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:12:"onlyAllWords";a:7:{s:4:"name";s:12:"onlyAllWords";s:4:"desc";s:22:"mse2_prop_onlyAllWords";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:13:"showSearchLog";a:7:{s:4:"name";s:13:"showSearchLog";s:4:"desc";s:23:"mse2_prop_showSearchLog";s:4:"type";s:13:"combo-boolean";s:7:"options";a:0:{}s:5:"value";b:0;s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:13:"filterOptions";a:7:{s:4:"name";s:13:"filterOptions";s:4:"desc";s:23:"mse2_prop_filterOptions";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}s:8:"ajaxMode";a:7:{s:4:"name";s:8:"ajaxMode";s:4:"desc";s:18:"mse2_prop_ajaxMode";s:4:"type";s:4:"list";s:7:"options";a:3:{i:0;a:2:{s:4:"text";s:7:"Default";s:5:"value";s:0:"";}i:1;a:2:{s:4:"text";s:6:"Scroll";s:5:"value";s:6:"scroll";}i:2;a:2:{s:4:"text";s:6:"Button";s:5:"value";s:6:"button";}}s:5:"value";s:0:"";s:7:"lexicon";s:19:"msearch2:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/snippets/snippet.mfilter2.php',
      'content' => '/** @var array $scriptProperties */
/** @var pdoFetch $pdoFetch */
$fqn = $modx->getOption(\'pdoFetch.class\', null, \'pdotools.pdofetch\', true);
if (!$pdoClass = $modx->loadClass($fqn, \'\', false, true)) {return false;}
$pdoFetch = new $pdoClass($modx, $scriptProperties);
$pdoFetch->addTime(\'pdoTools loaded.\');
/** @var mSearch2 $mSearch2 */
if (!$modx->loadClass(\'msearch2\', MODX_CORE_PATH . \'components/msearch2/model/msearch2/\', false, true)) {return false;}
$mSearch2 = new mSearch2($modx, $scriptProperties, $pdoFetch);
$mSearch2->initialize($modx->context->key);
$savedProperties = array();

if (empty($queryVar)) {$queryVar = \'query\';}
if (empty($parentsVar)) {$parentsVar = \'parents\';}
if (empty($minQuery)) {$minQuery = $modx->getOption(\'index_min_words_length\', null, 3, true);}
if (empty($classActive)) {$classActive = \'active\';}
if (isset($scriptProperties[\'disableSuggestions\'])) {$scriptProperties[\'suggestions\'] = empty($scriptProperties[\'disableSuggestions\']);}
if (empty($toPlaceholders) && !empty($toPlaceholder)) {$toPlaceholders = $toPlaceholder;}
if (empty($plPrefix)) {$plPrefix = \'mse2_\';}
if (isset($_REQUEST[\'limit\']) && is_numeric($_REQUEST[\'limit\']) && abs($_REQUEST[\'limit\']) > 0) {$limit = abs($_REQUEST[\'limit\']);}
elseif (!isset($limit) || $limit == \'\') {$limit = 10;}
if (!isset($outputSeparator)) {$outputSeparator = "\\n";}
$fastMode = !empty($fastMode);
// All templates of filters are converted to lowercase
foreach ($scriptProperties as $k => $v) {
	if (strpos($k, \'tplFilter\') === 0) {
		$tmp = \'tplFilter.\' . strtolower(substr($k, 10));
		if ($tmp != $k) {
			unset($scriptProperties[$k]);
			$scriptProperties[$tmp] = $v;
		}
	}
}

$class = \'modResource\';
$output = array(\'filters\' => \'\', \'results\' => \'\', \'total\' => 0, \'limit\' => $limit);
$ids = $found = $log = $where = array();

// ---------------------- Retrieving ids of resources for filter
$query = !empty($_REQUEST[$queryVar])
	? htmlspecialchars(strip_tags(trim($_REQUEST[$queryVar])))
	: \'\';

// Filter by ids
if (!empty($resources)) {
	$ids = array_map(\'trim\', explode(\',\', $resources));
}
elseif (isset($_REQUEST[$queryVar]) && empty($query)) {
	$output[\'results\'] =  $modx->lexicon(\'mse2_err_no_query\');
}
elseif (empty($query) && !empty($forceSearch)) {
	$output[\'results\'] = $modx->lexicon(\'mse2_err_no_query_var\');
}
elseif (isset($_REQUEST[$queryVar]) && !preg_match(\'/^[0-9]{2,}$/\', $query) && mb_strlen($query,\'UTF-8\') < $minQuery) {
	$output[\'results\'] = $modx->lexicon(\'mse2_err_min_query\');
}
elseif (isset($_REQUEST[$queryVar])) {
	$modx->setPlaceholder($plPrefix.$queryVar, $query);

	$found = $mSearch2->Search($query);
	$ids = array_keys($found);

	if (!empty($ids)) {
		$tmp = $scriptProperties;
		$tmp[\'returnIds\'] = 1;
		$tmp[\'resources\'] = implode(\',\', $ids);
		$tmp[\'parents\'] = $scriptProperties[\'parents\'];
		$tmp[\'limit\'] = 0;
		$ids = explode(\',\', $modx->runSnippet($scriptProperties[\'element\'], $tmp));
		$pdoFetch->addTime(\'Found ids: "\'.implode(\',\',$ids).\'"\');
	}

	if (empty($ids[0])) {
		$output[\'results\'] = $modx->lexicon(\'mse2_err_no_results\');
	}
}

$modx->setPlaceholder($plPrefix.$queryVar, $query);

// Has error message - exit
if (!empty($output[\'results\'])) {
	$log = \'\';
	if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
		$log = \'<pre class="mFilterLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
	}
	if (!empty($toSeparatePlaceholders)) {
		$output[\'log\'] = $log;
		$modx->setPlaceholders($output, $toSeparatePlaceholders);
		return;
	}
	elseif (!empty($toPlaceholders)) {
		$output[\'log\'] = $log;
		$modx->setPlaceholders($output, $toPlaceholders);
		return;
	}
	else {
		$output = $pdoFetch->getChunk($scriptProperties[\'tplOuter\'], $output, $fastMode);
		$output .= $log;
		return $output;
	}
}

// ---------------------- Checking resources by status and custom "where" parameter
// Support for specifying property set in the element name
$elementName = $scriptProperties[\'element\'];
$elementSet = array();
if (strpos($elementName, \'@\') !== false) {
	list($elementName, $elementSet) = explode(\'@\', $elementName);
}
/** @var modSnippet $snippet */
if (!empty($elementName) && $element = $modx->getObject(\'modSnippet\', array(\'name\' => $elementName))) {
	$elementProperties = $element->getProperties();
	$elementPropertySet = !empty($elementSet)
		? $element->getPropertySet($elementSet)
		: array();
	if (!is_array($elementPropertySet)) {$elementPropertySet = array();}
	$params = array_merge(
		$elementProperties,
		$elementPropertySet,
		$scriptProperties,
		array(
			\'parents\' => empty($scriptProperties[$parentsVar]) && !empty($_REQUEST[$parentsVar])
				? $_REQUEST[$parentsVar]
				: $scriptProperties[$parentsVar],
			\'returnIds\' => 1,
			\'limit\' => 0,
		)
	);
	if (!empty($ids)) {
		$params[\'resources\'] = implode(\',\', $ids);
	}
	$element->setCacheable(false);
	$tmp = $element->process($params);
	if (!empty($tmp)) {
		$tmp = explode(\',\', $tmp);
		$ids = !empty($ids)
			? array_intersect($ids, $tmp)
			: $tmp;
	}
	$pdoFetch->addTime(\'Fetched ids for building filters: "\'.implode(\',\',$ids).\'" from element "\'.$elementName.\'"\');
}
else {
	$modx->log(modX::LOG_LEVEL_ERROR, \'[mSearch2] Could not find main snippet with name: "\'.$elementName.\'"\');
	return \'\';
}

// ---------------------- Nothing to filter, exit
if (empty($ids)) {
	if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
		$log = \'<pre class="mFilterLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
	}
	else {$log = \'\';}

	$output = array_merge($output, array(
		\'filters\' => $modx->lexicon(\'mse2_err_no_filters\'),
		\'results\' => $modx->lexicon(\'mse2_err_no_results\'),
		\'log\' => $log
	));

	if (!empty($toSeparatePlaceholders)) {
		$modx->setPlaceholders($output, $toSeparatePlaceholders);
		return;
	}
	elseif (!empty($toPlaceholders)) {
		$modx->setPlaceholders($output, $toPlaceholders);
		return;
	}
	else {
		$output[\'results\'] .= $log;
		return $pdoFetch->getChunk($scriptProperties[\'tplOuter\'], $output, $fastMode);
	}
}

// ---------------------- Checking for suggestions processing
// Checking by results count
if (!empty($scriptProperties[\'suggestionsMaxResults\']) && count($ids) > $scriptProperties[\'suggestionsMaxResults\']) {
	$scriptProperties[\'suggestions\'] = false;
	$pdoFetch->addTime(\'Suggestions disabled by "suggestionsMaxResults" parameter: results count is \'.count($ids).\', max allowed is \'.$scriptProperties[\'suggestionsMaxResults\']);
}
else {
	$pdoFetch->addTime(\'Total number of results: \'.count($ids));
}

// Then get filters
$pdoFetch->addTime(\'Getting filters for ids: "\'.implode(\',\',$ids).\'"\');
$filters = \'\'; $count = 0;
if (!empty($ids)) {
	$filters = $mSearch2->getFilters($ids);
	// And checking by filters count
	if (!empty($filters) && $scriptProperties[\'suggestions\']) {
		foreach ($filters as $tmp) {
			if (!is_array($tmp)) {continue;}
			$count += count(array_values($tmp));
		}
		if (!empty($scriptProperties[\'suggestionsMaxFilters\']) && $count > $scriptProperties[\'suggestionsMaxFilters\']) {
			$scriptProperties[\'suggestions\'] = false;
			$pdoFetch->addTime(\'Suggestions disabled by "suggestionsMaxFilters" parameter: filters count is \'.$count.\', max allowed is \'.$scriptProperties[\'suggestionsMaxFilters\']);
		}
		else {
			$pdoFetch->addTime(\'Total number of filters: \'.$count);
		}
	}
}
$modx->setPlaceholder($plPrefix . \'filters_count\', $count );


// ---------------------- Loading results
$start_sort = implode(\',\', array_map(\'trim\' , explode(\',\', $scriptProperties[\'sort\'])));
$start_limit = 0;
$suggestions = array();
$page = $sort = \'\';

// Support for specifying property set in the paginator name
$paginatorName = $scriptProperties[\'paginator\'];
$paginatorSet = array();
if (strpos($paginatorName, \'@\') !== false) {
	list($paginatorName, $paginatorSet) = explode(\'@\', $paginatorName);
}
if (!empty($ids)) {
	/* @var modSnippet $paginator */
	if ($paginator = $modx->getObject(\'modSnippet\', array(\'name\' => $paginatorName))) {
		$paginatorProperties = $paginator->getProperties();
		$paginatorPropertySet = !empty($paginatorSet)
			? $paginator->getPropertySet($paginatorSet)
			: array();
		if (!is_array($paginatorPropertySet)) {$paginatorPropertySet = array();}
		$paginatorProperties = array_merge(
			$paginatorProperties,
			$paginatorPropertySet,
			$elementPropertySet,
			$scriptProperties,
			array(
				\'resources\' => implode(\',\', $ids),
				\'parents\' => \'0\',
				\'element\' => $elementName,
				\'defaultSort\' => $start_sort,
				\'toPlaceholder\' => false,
				\'limit\' => $limit,
				\'ajaxMode\' => \'\',
				\'ajax\' => 0,
				\'frontend_js\' => \'\',
				\'frontend_css\' => \'\',
			)
		);

		// Switching chunk for rows, if specified
		if (!empty($scriptProperties[\'tpls\'])) {
			$tmp = isset($_REQUEST[\'tpl\']) ? (integer) $_REQUEST[\'tpl\'] : 0;
			$tpls = array_map(\'trim\', explode(\',\', $scriptProperties[\'tpls\']));
			$paginatorProperties[\'tpls\'] = $tpls;
			if (isset($tpls[$tmp])) {
				$paginatorProperties[\'tpl\'] = $tpls[$tmp];
				$paginatorProperties[\'tpl_idx\'] = $tmp;
			}
		}

		// Trying to save weight of found ids if using mSearch2
		$weight = false;
		if (!empty($found) && strtolower($elementName) == \'msearch2\') {
			$tmp = array();
			foreach ($ids as $v) {
				$tmp[$v] = isset($found[$v])
					? $found[$v]
					: 0;
			}
			$paginatorProperties[\'resources\'] = $modx->toJSON($tmp);
			$weight = true;
		}

		if (!empty($_REQUEST[\'sort\'])) {$sort = $_REQUEST[\'sort\'];}
		elseif (!empty($start_sort)) {$sort = $start_sort;}
		else {
			/*
			$sortby = !empty($scriptProperties[\'sortby\']) ? $scriptProperties[\'sortby\'] : \'\';
			if (!empty($sortby)) {
				$sortdir = !empty($scriptProperties[\'sortdir\']) ? $scriptProperties[\'sortdir\'] : \'asc\';
				$sort = $sortby.$mSearch2->config[\'method_delimeter\'].$sortdir;
			}
			*/
		}

		if (!empty($_REQUEST[$paginatorProperties[\'pageVarKey\']])) {
			$page = (int) $_REQUEST[$paginatorProperties[\'pageVarKey\']];
		}
		if (!empty($sort)) {
			$paginatorProperties[\'sortby\'] = $mSearch2->getSortFields($sort);
			$paginatorProperties[\'sortdir\'] = \'\';
		}

		$start_limit = !empty($scriptProperties[\'limit\'])
				? $scriptProperties[\'limit\']
				: $paginatorProperties[\'limit\'];
		$paginatorProperties[\'start_limit\'] = $start_limit;
		$savedProperties[\'paginatorProperties\'] = $paginatorProperties;

		// We have a delimeters in $_GET, so need to filter resources
		if (strpos(implode(array_keys($_GET)), $mSearch2->config[\'filter_delimeter\']) !== false || !empty($mSearch2->aliases)) {
			$matched = $mSearch2->Filter($ids, $_REQUEST);
			$matched = array_intersect($ids, $matched);
			if ($scriptProperties[\'suggestions\']) {
				$suggestions = $mSearch2->getSuggestions($ids, $_REQUEST, $matched);
				$pdoFetch->addTime(\'Suggestions retrieved.\');
			}
			// Trying to save weight of found ids again
			if ($weight) {
				$tmp = array();
				foreach ($matched as $v) {$tmp[$v] = isset($found[$v]) ? $found[$v] : 0;}
				$paginatorProperties[\'resources\'] = $modx->toJSON($tmp);
			}
			else {
				$paginatorProperties[\'resources\'] = implode(\',\', $matched);
			}
		}
		// Saving log
		$log = $pdoFetch->timings;
		$pdoFetch->timings = array();

		//$paginator->setProperties($paginatorProperties);
		$paginator->setCacheable(false);
		$output[\'results\'] = !empty($paginatorProperties[\'resources\'])
			? $paginator->process($paginatorProperties)
			: $modx->lexicon(\'mse2_err_no_results\');
		$output[\'total\'] = $modx->getPlaceholder($paginatorProperties[\'totalVar\']);
	}
	else {
		$modx->log(modX::LOG_LEVEL_ERROR, \'[mSearch2] Could not find pagination snippet with name: "\'.$paginatorName.\'"\');
		return \'\';
	}
}

// ----------------------  Loading filters
$pdoFetch->timings = $log;
if (!empty($paginator)) {
	$pdoFetch->addTime(\'Fired paginator: "\'.$paginatorName.\'"\');
}
else {
	$pdoFetch->addTime(\'Could not find pagination snippet with name: "\'.$paginatorName.\'"\');
}
if (empty($filters)) {
	$pdoFetch->addTime(\'No filters retrieved\');
	$output[\'filters\'] = $modx->lexicon(\'mse2_err_no_filters\');
	if (empty($output[\'results\'])) {$output[\'results\'] = $modx->lexicon(\'mse2_err_no_results\');}
}
else {
	$pdoFetch->addTime(\'Filters retrieved\');
	$request = array();
	foreach ($_GET as $k => $v) {
		$tmp = explode($mSearch2->config[\'values_delimeter\'], $v);
		$request[$k] = array();
		foreach ($tmp as $v2) {
			$request[$k][] = str_replace(\'"\', \'&quot;\', $v2);
		}
	}

	$aliases = $mSearch2->aliases;
	foreach ($filters as $filter => $data) {
		if (empty($data) || !is_array($data)) {
			continue;
		}
		$rows = $has_active = \'\';
		list($table, $method) = explode($mSearch2->config[\'filter_delimeter\'], $filter);
		$filter_key = !empty($aliases[$filter])
			? $aliases[$filter]
			: $filter;

		$tplOuter = !empty($scriptProperties[\'tplFilter.outer.\' . $filter_key])
			? $scriptProperties[\'tplFilter.outer.\' . $filter_key]
			: $scriptProperties[\'tplFilter.outer.default\'];
		$tplRow = !empty($scriptProperties[\'tplFilter.row.\' . $filter_key])
			? $scriptProperties[\'tplFilter.row.\' . $filter_key]
			: $scriptProperties[\'tplFilter.row.default\'];
		$tplEmpty = !empty($scriptProperties[\'tplFilter.empty.\' . $filter_key])
			? $scriptProperties[\'tplFilter.empty.\' . $filter_key]
			: \'\';

		$idx = 0;
		foreach ($data as $v) {
			if (empty($v)) {continue;}
			$checked = isset($request[$filter_key]) && in_array($v[\'value\'], $request[$filter_key]) && isset($v[\'type\']) && $v[\'type\'] != \'number\';
			if ($scriptProperties[\'suggestions\']) {
				if ($checked) {
					$num = \'\';
					$has_active = \'has_active\';
				}
				elseif (isset($suggestions[$filter_key][$v[\'value\']])) {
					$num = $suggestions[$filter_key][$v[\'value\']];
				}
				else {
					$num = !empty($v[\'resources\'])
						? count($v[\'resources\'])
						: \'\';
				}
			}
			else {
				$num = \'\';
			}

			$rows .= $pdoFetch->getChunk($tplRow, array(
				\'filter\' => $method,
				\'table\' => $table,
				\'title\' => $v[\'title\'],
				\'value\' => $v[\'value\'],
				\'type\' => $v[\'type\'],
				\'checked\' => $checked
					? \'checked\'
					: \'\',
				\'selected\' => $checked
					? \'selected\'
					: \'\',
				\'disabled\' => !$checked && empty($num) && $scriptProperties[\'suggestions\']
					? \'disabled\'
					: \'\',
				\'delimeter\' => $mSearch2->config[\'filter_delimeter\'],
				\'idx\' => $idx++,
				\'num\' => $num,
				\'filter_key\' => $filter_key,
			), $fastMode);
		}

		$tpl = empty($rows) ? $tplEmpty : $tplOuter;
		if (!isset($output[\'filters\'][$filter])) {
			$output[\'filters\'][$filter] = \'\';
		}
		$output[\'filters\'][$filter] = $pdoFetch->getChunk($tpl, array(
			\'filter\' => $method,
			\'table\' => $table,
			\'rows\' => $rows,
			\'has_active\' => $has_active,
			\'delimeter\' => $mSearch2->config[\'filter_delimeter\'],
			\'filter_key\' => $filter_key,
		), $fastMode);
	}

	if (empty($output[\'filters\'])) {
		$output[\'filters\'] = $modx->lexicon(\'mse2_err_no_filters\');
		if (empty($output[\'results\'])) {$output[\'results\'] = $modx->lexicon(\'mse2_err_no_results\');}
	}
	else {
		$pdoFetch->addTime(\'Filters templated\');
	}
}
$pdoFetch->addTime(\'Total filter operations: \'.$mSearch2->filter_operations);

// Saving params into cache for ajax requests
$savedProperties[\'scriptProperties\'] = $scriptProperties;
$hash = sha1(serialize($savedProperties));
$_SESSION[\'mSearch2\'][$hash] = $savedProperties;

// Active class for sort links
if (!empty($sort)) {$output[$sort] = $classActive;}
if (isset($paginatorProperties[\'tpl_idx\'])) {
	$output[\'tpl\'.$paginatorProperties[\'tpl_idx\']] = $classActive;
	$output[\'tpls\'] = 1;
}

// Setting values for frontend javascript
$config = array(
	\'cssUrl\' => $mSearch2->config[\'cssUrl\'].\'web/\',
	\'jsUrl\' => $mSearch2->config[\'jsUrl\'].\'web/\',
	\'actionUrl\' => $mSearch2->config[\'actionUrl\'],
	\'queryVar\' => $mSearch2->config[\'queryVar\'],
	\'idVar\' => $modx->getOption(\'request_param_id\', null, \'id\'),
	\'filter_delimeter\' => $mSearch2->config[\'filter_delimeter\'],
	\'method_delimeter\' => $mSearch2->config[\'method_delimeter\'],
	\'values_delimeter\' => $mSearch2->config[\'values_delimeter\'],
	\'start_sort\' => $start_sort,
	\'start_limit\' => $start_limit,
	\'start_page\' => 1,
	\'start_tpl\' => \'\',
	\'sort\' => $sort == $start_sort ? \'\' : $sort,
	\'limit\' => $limit == $start_limit ? \'\' : $limit,
	\'page\' => $page,
	\'pageVar\' => $paginatorProperties[\'pageVarKey\'],
	\'tpl\' => !empty($paginatorProperties[\'tpl_idx\'])
			? $paginatorProperties[\'tpl_idx\']
			: \'\',
	\'parentsVar\' => $parentsVar,
	\'key\' => $hash,
	\'pageId\' => !empty($pageId) ? (integer) $pageId : $modx->resource->id,
	$queryVar => isset($_REQUEST[$queryVar]) ? $_REQUEST[$queryVar] : \'\',
	$parentsVar => isset($_REQUEST[$parentsVar]) ? $_REQUEST[$parentsVar] : \'\',
	\'aliases\' => array_flip($mSearch2->aliases),
	\'options\' => array(),
	\'mode\' => in_array($scriptProperties[\'ajaxMode\'], array(\'button\', \'scroll\')) ? $scriptProperties[\'ajaxMode\'] : \'\',
	\'moreText\' => $modx->lexicon(\'mse2_more\'),
);
if (!empty($scriptProperties[\'filterOptions\'])) {
	$filterOptions = $modx->fromJSON($scriptProperties[\'filterOptions\']);
	if (is_array($filterOptions)) {
		$config[\'filterOptions\'] = $filterOptions;
	}
}

$modx->regClientStartupScript(\'
<script type="text/javascript">
mse2Config = \' . $modx->toJSON($config) . \';
</script>\', true);
$modx->regClientScript(\'
<script type="text/javascript">
if ($("#mse2_mfilter").length) {
	if (window.location.hash != "" && mSearch2.Hash.oldbrowser()) {
		var uri = window.location.hash.replace("#", "?");
		window.location.href = document.location.pathname + uri;
	}
	else {
		mSearch2.initialize("body");
	}
}
</script>\', true);
$modx->setPlaceholders($config, $plPrefix);

// Prepare output
$log = \'\';
if ($modx->user->hasSessionContext(\'mgr\') && !empty($showLog)) {
	$log = \'<pre class="mFilterLog">\' . print_r($pdoFetch->getTime(), 1) . \'</pre>\';
}

if (!empty($toSeparatePlaceholders)) {
	$modx->setPlaceholders($output[\'filters\'], $toSeparatePlaceholders);
	$output[\'log\'] = $log;
	if (is_array($output[\'filters\'])) {
		$output[\'filters\'] = implode($outputSeparator, $output[\'filters\']);
	}

	$pcre = \'#^\' . preg_quote($toSeparatePlaceholders) . \'(\\d+)$#\';
	$tmp = array();
	foreach ($modx->placeholders as $k => $v) {
		if (preg_match($pcre, $k)) {
			$tmp[] = $v;
		}
	}

	$output[\'results\'] = !empty($tmp)
		? implode($outputSeparator, $tmp)
		: $modx->lexicon(\'mse2_err_no_results\');

	$modx->setPlaceholders($output, $toSeparatePlaceholders);
}
else {
	if (is_array($output[\'filters\'])) {
		$output[\'filters\'] = implode($outputSeparator, $output[\'filters\']);
	}
	if (!empty($toPlaceholders)) {
		$output[\'log\'] = $log;
		$modx->setPlaceholders($output, $toPlaceholders);
	}
	else {
		$output = $pdoFetch->getChunk($scriptProperties[\'tplOuter\'], $output, $fastMode);
		$output .= $log;

		return $output;
	}
}',
    ),
  ),
  'ddaf422072d131d47837831c1f6383cf' => 
  array (
    'criteria' => 
    array (
      'name' => 'mSearch2',
    ),
    'object' => 
    array (
      'id' => 8,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'mSearch2',
      'description' => '',
      'editor_type' => 0,
      'category' => 13,
      'cache_type' => 0,
      'plugincode' => '$id = 0;

switch ($modx->event->name) {

	case \'OnDocFormSave\':
	case \'OnResourceDelete\':
	case \'OnResourceUndelete\':
		/* @var modResource $modResource */
		if (!empty($resource) && $resource instanceof modResource) {
			$id = $resource->get(\'id\');
		}
	break;

	case \'OnCommentSave\':
	case \'OnCommentRemove\':
	case \'OnCommentDelete\':
		/* @var TicketComment $TicketComment */
		if (!empty($TicketComment) && $TicketComment instanceof TicketComment) {
			$id = $TicketComment->getOne(\'Thread\')->get(\'resource\');
		}
	break;

}


if (!empty($id)) {
	/* @var modProcessorResponse $response */
	$response = $modx->runProcessor(\'mgr/index/update\', array(\'id\' => $id), array(\'processors_path\' => MODX_CORE_PATH . \'components/msearch2/processors/\'));

	if ($response->isError()) {
		$modx->log(modX::LOG_LEVEL_ERROR, print_r($response->getAllErrors(), true));
	}
}',
      'locked' => 0,
      'properties' => NULL,
      'disabled' => 0,
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/msearch2/elements/plugins/plugin.msearch2.php',
      'content' => '$id = 0;

switch ($modx->event->name) {

	case \'OnDocFormSave\':
	case \'OnResourceDelete\':
	case \'OnResourceUndelete\':
		/* @var modResource $modResource */
		if (!empty($resource) && $resource instanceof modResource) {
			$id = $resource->get(\'id\');
		}
	break;

	case \'OnCommentSave\':
	case \'OnCommentRemove\':
	case \'OnCommentDelete\':
		/* @var TicketComment $TicketComment */
		if (!empty($TicketComment) && $TicketComment instanceof TicketComment) {
			$id = $TicketComment->getOne(\'Thread\')->get(\'resource\');
		}
	break;

}


if (!empty($id)) {
	/* @var modProcessorResponse $response */
	$response = $modx->runProcessor(\'mgr/index/update\', array(\'id\' => $id), array(\'processors_path\' => MODX_CORE_PATH . \'components/msearch2/processors/\'));

	if ($response->isError()) {
		$modx->log(modX::LOG_LEVEL_ERROR, print_r($response->getAllErrors(), true));
	}
}',
    ),
  ),
  '9122841b5b56ce5e8d5bba36d261ffa0' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnDocFormSave',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnDocFormSave',
      'priority' => 1,
      'propertyset' => 0,
    ),
  ),
  'df47656af454f9363d6724a24e7b4df8' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnResourceDelete',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnResourceDelete',
      'priority' => 1,
      'propertyset' => 0,
    ),
  ),
  '6f3b36d9ee8e814c6de7cc11ef357a4c' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnResourceUndelete',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnResourceUndelete',
      'priority' => 1,
      'propertyset' => 0,
    ),
  ),
  'ce1fa6cda341759428fba2b80c8c1596' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnCommentSave',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnCommentSave',
      'priority' => 1,
      'propertyset' => 0,
    ),
  ),
  '74b81f654ae43aa5e2e59b322a7109b4' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnCommentRemove',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnCommentRemove',
      'priority' => 1,
      'propertyset' => 0,
    ),
  ),
  '60b147bb117dfe2137d658d8bede8610' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 8,
      'event' => 'OnCommentDelete',
    ),
    'object' => 
    array (
      'pluginid' => 8,
      'event' => 'OnCommentDelete',
      'priority' => 1,
      'propertyset' => 0,
    ),
  ),
);